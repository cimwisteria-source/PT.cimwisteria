<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Catcher Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <div id="score">Skor: 0</div>
        <canvas id="gameCanvas"></canvas>
        <div id="msg">Gunakan Panah Kiri/Kanan untuk Bergerak</div>
    </div>
    <script src="script.js"></script>
    <style>body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #1a1a2e;
    color: white;
    font-family: 'Arial', sans-serif;
    overflow: hidden;
}

.game-container {
    text-align: center;
}

canvas {
    border: 4px solid #0f3460;
    background-color: #16213e;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

#score {
    font-size: 24px;
    margin-bottom: 10px;
    font-weight: bold;
    color: #e94560;
}

#msg {
    margin-top: 10px;
    color: #888;
}
</style>
    <script>const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Ukuran Canvas
canvas.width = 400;
canvas.height = 500;

// Variabel Player
const player = {
    x: 175,
    y: 450,
    width: 50,
    height: 20,
    speed: 7,
    color: "#e94560"
};

// Variabel Bintang
let stars = [];
let score = 0;
let gameOver = false;

// Kontrol Keyboard
let keys = {};
document.addEventListener("keydown", (e) => keys[e.code] = true);
document.addEventListener("keyup", (e) => keys[e.code] = false);

function spawnStar() {
    if (Math.random() < 0.03) { // Probabilitas munculnya bintang
        stars.push({
            x: Math.random() * (canvas.width - 20),
            y: 0,
            size: 15,
            speed: 3 + Math.random() * 2
        });
    }
}

function update() {
    if (gameOver) return;

    // Gerakkan Player
    if (keys["ArrowLeft"] && player.x > 0) player.x -= player.speed;
    if (keys["ArrowRight"] && player.x < canvas.width - player.width) player.x += player.speed;

    // Gerakkan Bintang
    stars.forEach((star, index) => {
        star.y += star.speed;

        // Cek Tabrakan (Collision)
        if (
            star.y + star.size > player.y &&
            star.x > player.x &&
            star.x < player.x + player.width
        ) {
            stars.splice(index, 1);
            score++;
            document.getElementById("score").innerText = "Skor: " + score;
        }

        // Jika Bintang Lewat (Game Over)
        if (star.y > canvas.height) {
            gameOver = true;
            alert("Game Over! Skor Akhir: " + score);
            location.reload(); // Reset game
        }
    });

    spawnStar();
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Gambar Player
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // Gambar Bintang
    ctx.fillStyle = "#f9d342";
    stars.forEach(star => {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.size / 2, 0, Math.PI * 2);
        ctx.fill();
    });

    update();
    requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>
